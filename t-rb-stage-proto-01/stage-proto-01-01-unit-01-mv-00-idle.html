<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>stage proto 01 01 unit 01 mv 00 idle</title>

  <style>
    canvas {
      /*width: 100%;*/
      /*height: 100%;*/
      border: 1px solid #000000;
      /*background-color: beige;*/
      background-color: gray;
    }
  </style>
</head>
<body onload="init()">
  <canvas id="id-canvas"></canvas>

  <script type="application/javascript" src="lib/lib-draw-guide-p01.js"></script>
  <script type="application/javascript" src="lib/lib-drw-raw-info-p01.js"></script>
  <script type="application/javascript" src="lib/lib-drw-raw-layer-p01.js"></script>
  <script type="application/javascript" src="lib/lib-drw-raw-reverse-p01.js"></script>
  <script type="application/javascript" src="lib/lib-drw-raw-skin-p01.js"></script>
  <script type="application/javascript" src="lib/lib-part-join-p01.js"></script>
  <script type="application/javascript" src="lib/lib-raw-str-p01.js"></script>
  <script type="application/javascript" src="manager/manager-move-p01.js"></script>
  <script type="application/javascript" src="manager/manager-mtx-preset-x3-p01.js"></script>
  <script type="application/javascript" src="manager/manager-preset-link-info-p01.js"></script>
  <script type="application/javascript" src="manager/manager-res-info-p01.js"></script>
  <script type="application/javascript" src="sample/sample-arms-preset-info-p01.js"></script>
  <script type="application/javascript" src="sample/sample-calc-jrc-info-p01.js"></script>
  <script type="application/javascript" src="sample/sample-drw-raw-color-set-info-p01.js"></script>
  <script type="application/javascript" src="sample/sample-hit-link-info-p01.js"></script>
  <script type="application/javascript" src="sample/sample-layer-raw-info-p01.js"></script>
  <script type="application/javascript" src="sample/sample-move-set-preset-info-p01.js"></script>
  <script type="application/javascript" src="sample/sample-mtx-preset-x3-b-set-p01.js"></script>
  <script type="application/javascript" src="sample/sample-mtx-preset-x3-skin-part-indices-p01.js"></script>
  <script type="application/javascript" src="sample/sample-part-preset-info-p01.js"></script>
  <script type="application/javascript" src="sample/sample-unit-info-p01.js"></script>
  <script type="application/javascript" src="sample/sample-unit-preset-info-p01.js"></script>
  <script type="application/javascript" src="stage-p01.js"></script>
  <script>
    function init() {
      let canvasW = window.innerWidth - 8 * 2
      let canvasH = window.innerHeight - 8 * 2

      initStage('id-canvas', canvasW, canvasH * 2)
      size = 2

      const paramInfo = {
        mtxNum: 0,
        bSetNum: -1,
        colorSetUCode: 'sample-color-set-info-00'
      }

      checkParams(window, paramInfo)

      const mtxNum = paramInfo.mtxNum
      const bSetNum = paramInfo.bSetNum
      const colorSetUCode = paramInfo.colorSetUCode
      const fList = getSimplePartPresetInfoListP01(sampleLayerRawInfoListP01F, 'f', mtxNum, bSetNum, colorSetUCode)
      const lList = getSimplePartPresetInfoListP01(sampleLayerRawInfoListP01L, 'l', mtxNum, bSetNum, colorSetUCode)
      const bkList = getSimplePartPresetInfoListP01(sampleLayerRawInfoListP01BK, 'bk', mtxNum, bSetNum, colorSetUCode)
      const bdList = getSimplePartPresetInfoListP01(sampleLayerRawInfoListP01BD, 'bd', mtxNum, bSetNum, colorSetUCode)
      const partPresetInfoList = fList.concat(lList, bkList, bdList)
      console.log(partPresetInfoList.length)
      initPartPresetInfoList(partPresetInfoList)
      const layerRawInfoList = sampleLayerRawInfoListP01F.concat(sampleLayerRawInfoListP01L,
        sampleLayerRawInfoListP01BK, sampleLayerRawInfoListP01BD)
      initResInfo(layerRawInfoList, [calcJrcInfoSample, calcJrcInfoSample01],
        drwRawColorSetInfoListP01, hitLinkInfoSampleListP01, [], [])

      const unit = getUnit00()
      const unit01 = getUnit01()
      const enemy = getEnemy00()

      let sr = 10
      let sc = 10

      unit.partInfo.rcInfo.r = sr
      unit.partInfo.rcInfo.c = sc

      // drawPartInfo(ctx, unit.partInfo, sr, sc, size)
      // drawRCArea(ctx, partInfo, sr, sc, size)
      // drawHitBox(ctx, partInfo, sr, sc, size)

      sr = 80

      enemy.partInfo.rcInfo.r = sr
      enemy.partInfo.rcInfo.c = sc

      // drawPartInfo(ctx, enemy.partInfo, sr, sc, size)
      // drawRCArea(ctx, partInfo, sr, sc, size)
      // drawHitBox(ctx, partInfo, sr, sc, size)

      unit01.partInfo.rcInfo.r = 150
      unit01.partInfo.rcInfo.c = sc

      unitList.push(unit)
      unitList.push(enemy)
      unitList.push(unit01)

      start()
    }
  </script>
</body>
</html>