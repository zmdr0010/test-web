<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Test state unit preset auto join 01 e preset 3 move 02</title>

  <style>
    canvas {
      /*width: 100%;*/
      /*height: 100%;*/
      border: 1px solid #000000;
      /*background-color: beige;*/
      background-color: gray;
    }
  </style>
</head>
<body onload="init()">
  <canvas id="id-canvas"></canvas>

  <script type="application/javascript" src="lib-draw-guide.js"></script>
  <script type="application/javascript" src="lib-drw-raw-info.js"></script>
  <script type="application/javascript" src="lib-part-join.js"></script>
  <script type="application/javascript" src="lib-raw-str.js"></script>
  <script type="application/javascript" src="manager-move.js"></script>
  <script type="application/javascript" src="manager-preset-link-info.js"></script>
  <script type="application/javascript" src="manager-res-info.js"></script>
  <script type="application/javascript" src="sample-arms-preset-info.js"></script>
  <script type="application/javascript" src="sample-calc-jrc-info.js"></script>
  <script type="application/javascript" src="sample-color-palettes.js"></script>
  <script type="application/javascript" src="sample-drw-obj-link-info.js"></script>
  <script type="application/javascript" src="sample-drw-raw-color-set-info.js"></script>
  <script type="application/javascript" src="sample-drw-raw-info.js"></script>
  <script type="application/javascript" src="sample-drw-raw-str.js"></script>
  <script type="application/javascript" src="sample-hit-link-info.js"></script>
  <script type="application/javascript" src="sample-move-set-preset-info.js"></script>
  <script type="application/javascript" src="sample-part-move-set-preset-link-info.js"></script>
  <script type="application/javascript" src="sample-part-preset-info.js"></script>
  <script type="application/javascript" src="sample-part-preset-info-02.js"></script>
  <script type="application/javascript" src="stage.js"></script>
  <script>
    function init() {
      let canvasW = window.innerWidth - 8 * 2
      let canvasH = window.innerHeight - 8 * 2

      initStage('id-canvas', canvasW, canvasH * 2)
      size = 6
      checkParams(window)

      initPartPresetInfoList(partPresetInfoSampleList.concat([sampleTempPartPresetInfoMain,
        sampleTempPartPresetInfoMissileShootF, sampleTempPartPresetInfoMissileShootLR]))
      initArmsPresetInfoList(tempPlayerArmsPresetInfoSampleList)
      initResInfo(drwRawInfoSampleList, drwRawColorSetInfoList, colorPalettesInfoSampleList,
        drwObjLinkInfoSampleList, hitLinkInfoSampleList,
        partMoveSetPresetLinkInfoSampleList.concat(partMoveSetPresetLinkInfoSampleList01),
        moveSetPresetInfoSampleList)

      // const partInfo = createPartInfoFromPresetInfo(sampleTempPartPresetInfoMain, resInfo)
      // setPartMoveSetByPresetList(partInfo, partMoveSetPresetLinkInfoSampleList, moveSetPresetInfoSampleList)

      const partInfo = createPartInfoFromPresetInfo(sampleTempPartPresetInfoMain, resInfo)
      // console.log(partInfo)

      setPartArmsByPresetList(partInfo, tempPlayerArmsPresetInfoSampleList, resInfo, presetInfoManager.list)

      const unitInfo = {
        uCode: 'sample-unit',
        partInfo: partInfo
      }

      unitList.push(unitInfo)

      // console.log(unitInfo)
      moveUnit(unitInfo, 40, 80)

      // drawPartInfo(ctx, partInfo, 30, 60, size)
      // drawPartInfo(ctx, partInfo, 37, 60, size)

      // const misPartInfo = createPartInfoFromPresetInfo(sampleTempPartPresetInfoMissileShootF, resInfo)
      // console.log(misPartInfo)
      // drawPartInfo(ctx, misPartInfo, 37 + 7, 60, size)

      start()
    }
  </script>
</body>
</html>