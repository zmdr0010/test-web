<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Test sample layer color info palettes</title>

  <style>
    /*body {*/
    /*  -webkit-user-drag: none;*/
    /*  -moz-user-select: none;*/
    /*  -ms-user-select: none;*/
    /*  user-select: none;*/
    /*  position: fixed;*/
    /*  overflow: hidden;*/
    /*}*/

    canvas {
      /*width: 100%;*/
      /*height: 100%;*/
      border: 1px solid #000000;
      background-color: beige;
    }
  </style>
</head>
<body onload="init()">
  <div>
    <label id="id-size-label">size : 20, startColor : 200</label>
  </div>

  <canvas id="id-canvas"></canvas>

  <script>
    const sample = [
      "20240119153113_f/9/12/7/0,0,0,1,1,1,0,0,0,0,0,0,1,2,1,0,0,0,0,0,1,1,2,1,1,0,0,4,0,1,2,2,2,1,0,4,4,1,1,2,3,2,1,1,4,4,4,4,2,3,2,4,4,4,4,0,4,4,4,4,4,0,4,0,0,1,4,5,4,1,0,0,0,0,1,2,5,2,1,0,0,0,0,3,5,6,5,3,0,0,0,0,3,6,6,6,3,0,0,0,0,6,6,6,6,6,0,0",
      "20240119152833_f/9/12/7/0,0,1,1,1,1,1,0,0,0,0,1,2,2,2,1,0,0,0,0,1,2,2,2,1,0,0,0,0,1,2,2,2,1,0,0,0,0,1,3,2,3,1,0,0,0,0,1,3,3,3,1,0,0,0,1,4,3,3,3,4,1,0,0,2,4,4,4,4,4,2,0,1,3,4,4,5,4,4,3,1,1,3,4,5,5,5,4,3,1,1,2,5,5,6,5,5,2,1,1,2,5,6,6,6,5,2,1",
      "20240119152518_f/9/12/7/0,2,2,5,5,5,2,2,0,0,2,1,1,5,1,1,2,0,2,2,1,2,5,2,1,2,2,1,2,2,5,5,5,2,2,1,1,1,4,2,5,2,4,1,1,0,0,4,2,6,2,4,0,0,0,0,4,6,6,6,4,0,0,0,0,4,4,6,4,4,0,0,0,0,1,3,6,3,1,0,0,1,6,6,6,6,6,6,6,1,1,1,6,4,4,4,6,1,1,1,3,3,3,4,3,3,3,1",
      "20240119152131_f/9/12/7/0,0,0,1,1,1,0,0,0,0,0,2,5,4,5,2,0,0,0,0,5,5,4,5,5,0,0,0,0,5,4,4,4,5,0,0,0,0,5,4,4,4,5,0,0,0,3,5,4,5,4,5,3,0,0,3,5,5,5,5,5,3,0,0,3,3,5,6,5,3,3,0,0,3,6,6,6,6,6,3,0,0,2,2,6,6,6,2,2,0,0,2,2,1,6,1,2,2,0,0,2,2,2,1,2,2,2,0",
      "20240119151651_f/9/12/5/0,0,0,1,1,1,0,0,0,0,0,0,1,4,1,0,0,0,0,0,0,3,4,3,0,0,0,0,0,2,3,4,3,2,0,0,0,0,2,4,4,4,2,0,0,0,2,2,4,4,4,2,2,0,0,2,2,4,4,4,2,2,0,3,2,2,4,4,4,2,2,3,3,2,3,3,4,3,3,2,3,3,3,3,1,4,1,3,3,3,3,3,3,1,4,1,3,3,3,3,3,2,1,1,1,2,3,3",
      "20240119155318_l/9/12/7/0,0,0,0,0,0,1,4,4,0,0,0,0,1,1,1,4,6,0,0,0,0,1,3,3,4,6,0,0,0,1,1,6,6,6,6,1,1,1,1,3,3,6,6,6,2,3,3,3,3,4,5,5,6,2,2,2,3,3,3,5,5,5,2,2,2,2,2,2,3,4,5,0,0,0,2,2,2,2,3,4,0,0,0,0,0,2,2,3,4,0,0,0,0,0,0,2,2,4,0,0,0,0,0,0,2,2,4",
      "20240119155121_l/9/12/7/0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,3,3,3,2,2,2,3,3,3,3,3,6,1,3,3,3,3,3,4,6,6,1,1,3,3,4,4,6,6,6,1,1,1,3,5,5,6,6,6,0,1,1,1,3,4,5,6,6,0,0,1,1,3,4,4,5,6,0,0,0,1,3,1,4,5,6,0,0,0,1,1,1,5,5,6,0,0,0,0,1,1,5,5,6,0,0,0,0,0,1,5,5,5",
      "20240119154558_l/9/12/7/0,0,0,0,2,2,4,4,5,0,0,0,2,2,2,4,4,5,0,0,1,2,4,4,4,5,5,0,1,1,2,4,4,5,5,5,1,1,3,2,4,5,5,6,6,1,1,3,2,4,5,6,6,6,1,3,3,3,5,5,6,6,6,1,1,3,3,5,5,6,5,6,0,1,1,1,3,2,6,5,6,0,0,0,1,1,2,4,4,5,0,0,0,0,1,1,2,4,5,0,0,0,0,0,1,3,3,5",
      "20240119154214_l/9/12/7/0,0,0,0,0,1,1,5,1,0,0,0,2,2,1,5,5,1,0,0,4,3,2,2,5,5,6,0,4,4,3,2,5,5,6,6,4,4,3,3,5,5,6,6,6,4,3,3,2,2,5,6,6,6,4,4,3,2,2,5,5,6,6,4,4,3,3,2,2,5,6,6,4,4,3,3,2,2,5,5,6,4,4,4,3,3,2,5,5,6,0,0,4,4,2,2,1,5,6,0,0,0,2,2,1,1,5,1",
      "2024011915498_l/9/12/7/0,0,0,0,0,0,1,5,5,0,0,0,0,0,1,1,5,5,0,0,0,0,0,1,4,5,5,0,0,0,0,1,1,4,5,6,0,0,0,0,1,1,4,5,6,0,0,0,1,1,2,5,5,6,0,0,1,1,2,2,5,5,6,0,1,1,2,2,3,5,5,6,0,1,2,2,3,3,5,6,6,1,1,2,2,3,6,5,6,6,1,2,2,3,6,6,6,6,6,1,2,2,3,6,6,6,6,6",
      "20240119155318_l_h_reverse/9/12/7/4,4,1,0,0,0,0,0,0,6,4,1,1,1,0,0,0,0,6,4,3,3,1,0,0,0,0,6,6,6,6,1,1,0,0,0,6,6,6,3,3,1,1,1,1,6,5,5,4,3,3,3,3,2,5,5,5,3,3,3,2,2,2,5,4,3,2,2,2,2,2,2,4,3,2,2,2,2,0,0,0,4,3,2,2,0,0,0,0,0,4,2,2,0,0,0,0,0,0,4,2,2,0,0,0,0,0,0",
      "20240119155121_l_h_reverse/9/12/7/2,2,2,2,2,0,0,0,0,3,3,3,2,2,2,2,2,2,6,3,3,3,3,3,2,2,2,6,6,4,3,3,3,3,3,1,6,6,6,4,4,3,3,1,1,6,6,6,5,5,3,1,1,1,6,6,5,4,3,1,1,1,0,6,5,4,4,3,1,1,0,0,6,5,4,1,3,1,0,0,0,6,5,5,1,1,1,0,0,0,6,5,5,1,1,0,0,0,0,5,5,5,1,0,0,0,0,0",
      "20240119154558_l_h_reverse/9/12/7/5,4,4,2,2,0,0,0,0,5,4,4,2,2,2,0,0,0,5,5,4,4,4,2,1,0,0,5,5,5,4,4,2,1,1,0,6,6,5,5,4,2,3,1,1,6,6,6,5,4,2,3,1,1,6,6,6,5,5,3,3,3,1,6,5,6,5,5,3,3,1,1,6,5,6,2,3,1,1,1,0,5,4,4,2,1,1,0,0,0,5,4,2,1,1,0,0,0,0,5,3,3,1,0,0,0,0,0",
      "20240119154214_l_h_reverse/9/12/7/1,5,1,1,0,0,0,0,0,1,5,5,1,2,2,0,0,0,6,5,5,2,2,3,4,0,0,6,6,5,5,2,3,4,4,0,6,6,6,5,5,3,3,4,4,6,6,6,5,2,2,3,3,4,6,6,5,5,2,2,3,4,4,6,6,5,2,2,3,3,4,4,6,5,5,2,2,3,3,4,4,6,5,5,2,3,3,4,4,4,6,5,1,2,2,4,4,0,0,1,5,1,1,2,2,0,0,0",
      "2024011915498_l_h_reverse/9/12/7/5,5,1,0,0,0,0,0,0,5,5,1,1,0,0,0,0,0,5,5,4,1,0,0,0,0,0,6,5,4,1,1,0,0,0,0,6,5,4,1,1,0,0,0,0,6,5,5,2,1,1,0,0,0,6,5,5,2,2,1,1,0,0,6,5,5,3,2,2,1,1,0,6,6,5,3,3,2,2,1,0,6,6,5,6,3,2,2,1,1,6,6,6,6,6,3,2,2,1,6,6,6,6,6,3,2,2,1",
      "20240119162153_bk/9/9/7/1,1,3,6,3,6,3,1,1,1,3,3,6,6,6,3,3,1,1,3,3,6,6,6,3,3,1,1,3,3,3,6,3,3,3,1,2,2,3,4,6,4,3,2,2,2,2,2,4,6,4,2,2,2,2,4,4,4,5,4,4,4,2,2,4,4,5,5,5,4,4,2,2,2,4,4,5,4,4,2,2",
      "20240119162015_bk/9/9/7/0,0,0,5,6,5,0,0,0,0,0,1,4,5,4,1,0,0,0,1,1,4,4,4,1,1,0,1,2,2,4,3,4,2,2,1,2,2,2,4,3,4,2,2,2,1,2,3,3,3,3,3,2,1,0,1,2,3,3,3,2,1,0,0,0,1,2,3,2,1,0,0,0,0,0,1,2,1,0,0,0",
      "20240119161616_bk/9/9/7/0,0,1,3,3,3,1,0,0,0,0,1,3,3,3,1,0,0,0,1,1,3,4,3,1,1,0,1,1,2,5,4,5,2,1,1,1,2,2,5,5,5,2,2,1,2,2,2,5,6,5,2,2,2,0,2,2,5,5,5,2,2,0,0,0,0,5,4,5,0,0,0,0,0,0,4,4,4,0,0,0",
      "20240119161425_bk/9/9/7/4,4,4,6,6,6,4,4,4,4,1,3,6,6,6,3,1,4,4,1,2,6,5,6,2,1,4,0,1,2,6,5,6,2,1,0,0,1,2,2,5,2,2,1,0,0,0,1,2,5,2,1,0,0,0,0,0,1,2,1,0,0,0,0,0,0,1,2,1,0,0,0,0,0,0,0,1,0,0,0,0",
      "2024011916187_bk/9/9/7/0,0,1,1,1,1,1,0,0,0,1,1,1,3,1,1,1,0,0,1,3,3,6,3,3,1,0,0,1,3,3,6,3,3,1,0,0,0,2,3,3,3,2,0,0,0,0,2,2,3,2,2,0,0,0,1,1,2,4,2,1,1,0,1,1,2,4,4,4,2,1,1,1,1,2,4,5,4,2,1,1",
      "20240119161037_bd/15/15/7/1,1,1,3,3,1,1,1,1,1,3,3,1,1,1,1,3,3,3,3,1,1,4,1,1,3,3,3,3,1,1,1,3,3,3,1,4,4,4,1,3,3,3,1,1,0,1,1,3,3,3,4,4,4,3,3,3,1,1,0,0,0,1,2,3,2,4,4,4,2,3,2,1,0,0,0,0,1,2,2,2,4,4,4,2,2,2,1,0,0,0,0,1,2,2,6,4,4,4,6,2,2,1,0,0,0,0,0,2,2,6,4,4,4,6,2,2,0,0,0,0,0,0,2,2,6,5,4,5,6,2,2,0,0,0,0,0,0,2,2,6,5,4,5,6,2,2,0,0,0,0,0,0,2,2,6,5,5,5,6,2,2,0,0,0,0,0,0,2,2,6,6,5,6,6,2,2,0,0,0,0,0,0,2,2,6,6,6,6,6,2,2,0,0,0,0,0,0,2,6,6,4,5,4,6,6,2,0,0,0,0,0,0,2,6,4,4,5,4,4,6,2,0,0,0",
      "20240119155525_bd/15/15/7/0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,2,1,3,3,3,1,2,1,1,0,0,0,1,1,2,2,2,3,3,3,2,2,2,1,1,0,1,1,2,2,2,2,3,3,3,2,2,2,2,1,1,1,1,2,2,2,4,3,3,3,4,2,2,2,1,1,1,1,2,2,4,4,3,3,3,4,4,2,2,1,1,1,1,2,2,4,4,5,3,5,4,4,2,2,1,1,1,1,2,4,4,4,5,5,5,4,4,4,2,1,1,1,1,2,4,4,5,5,6,5,5,4,4,2,1,1,1,1,2,2,4,5,6,6,6,5,4,2,2,1,1,1,1,2,2,2,5,6,6,6,5,2,2,2,1,1,1,1,2,2,2,5,6,6,6,5,2,2,2,1,1,1,1,2,2,2,5,6,6,6,5,2,2,2,1,1,0,1,1,2,2,5,6,3,6,5,2,2,1,1,0,0,0,1,1,2,5,6,3,6,5,2,1,1,0,0",
      "2024011916611_bd/15/15/7/0,0,0,2,3,3,3,4,3,3,3,2,0,0,0,0,0,0,2,2,2,3,4,3,2,2,2,0,0,0,0,0,0,1,1,2,5,4,5,2,1,1,0,0,0,0,1,1,1,1,2,5,4,5,2,1,1,1,1,0,0,1,2,2,2,2,5,4,5,2,2,2,2,1,0,1,1,2,3,3,3,5,5,5,3,3,3,2,1,1,2,2,2,3,3,3,4,5,4,3,3,3,2,2,2,2,2,2,2,2,3,5,5,5,3,2,2,2,2,2,2,1,1,1,2,2,5,6,5,2,2,1,1,1,2,1,1,1,1,2,2,5,6,5,2,2,1,1,1,1,0,1,1,1,2,6,6,6,6,6,2,1,1,1,0,0,1,1,1,2,3,6,6,6,3,2,1,1,1,0,0,0,0,1,2,3,3,6,3,3,2,1,0,0,0,0,0,0,1,2,2,3,6,3,2,2,1,0,0,0,0,0,0,1,2,2,2,3,2,2,2,1,0,0,0",
      "2024011916320_bd/15/15/7/0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,1,4,1,1,1,4,1,1,1,0,0,0,1,1,3,1,4,4,1,4,4,1,3,1,1,0,0,1,1,3,3,3,4,4,4,3,3,3,1,1,0,0,1,1,3,3,3,4,4,4,3,3,3,1,1,0,0,1,2,3,3,3,5,4,5,3,3,3,2,1,0,0,1,2,3,5,5,6,5,6,5,5,3,2,1,0,0,1,2,3,5,6,6,6,6,6,5,3,2,1,0,0,1,2,3,3,3,4,6,4,3,3,3,2,1,0,0,1,2,3,3,2,4,6,4,2,3,3,2,1,0,0,1,2,3,3,2,4,6,4,2,3,3,2,1,0,0,1,1,3,3,1,4,4,4,1,3,3,1,1,0,0,1,1,3,1,1,1,4,1,1,1,3,1,1,0,0,0,1,1,1,1,1,4,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0",
      "2024011915595_bd/15/15/7/0,0,0,1,2,2,2,4,2,2,2,1,0,0,0,0,0,1,2,2,3,3,4,3,3,2,2,1,0,0,0,1,2,2,3,3,3,4,3,3,3,2,2,1,0,1,2,2,3,3,3,4,4,4,3,3,3,2,2,1,1,2,3,3,3,4,4,5,4,4,3,3,3,2,1,1,2,3,3,3,4,4,5,4,4,3,3,3,2,1,2,2,3,3,3,4,4,5,4,4,3,3,3,2,2,2,3,3,3,3,6,4,5,4,6,3,3,3,3,2,2,3,3,3,6,6,4,6,4,6,6,3,3,3,2,2,3,3,6,6,6,6,6,6,6,6,6,3,3,2,2,2,3,3,3,6,6,5,6,6,3,3,3,2,2,1,2,2,2,3,2,4,5,4,2,3,2,2,2,1,1,1,2,2,2,4,4,5,4,4,2,2,2,1,1,1,1,1,2,2,4,4,5,4,4,2,2,1,1,1,1,1,1,2,2,4,4,5,4,4,2,2,1,1,1",
      "20240122143329-mis-00-00/1/5/5/4,3,2,1,1",
      "20240122143329-mis-00-01/2/5/5/4,4,3,3,2,2,1,1,1,1",
      "20240122143329-mis-00-02/3/5/5/4,4,4,3,3,3,2,2,2,1,1,1,1,1,1",
      "20240122143329-mis-00-03/4/5/5/4,4,4,4,3,3,3,3,2,2,2,2,1,1,1,1,1,1,1,1",
      "20240122143329-mis-00-04/5/5/5/4,4,4,4,4,3,3,3,3,3,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1"
    ]
    const sample01 = [
      "2024011915595_bd_layer_1/15/15/1/0,0,0,1,1,1,1,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1",
      "2024011915595_bd_layer_2/15/15/1/0,0,0,0,2,2,2,2,2,2,2,0,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,0,0,0,0,0,2,2,2,2,2,2,2,2,2,2,2,0,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,0,2,2,2,2,2,2,2,2,2,2,2,2,2,0,0,0,2,2,2,2,2,2,2,2,2,2,2,0,0,0,0,0,2,2,2,2,2,2,2,2,2,0,0,0,0,0,0,2,2,2,2,2,2,2,2,2,0,0,0",
      "2024011915595_bd_layer_3/15/15/1/0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,0,0,0,0,0,0,0,0,0,3,3,3,3,3,3,3,0,0,0,0,0,0,0,3,3,3,3,3,3,3,3,3,0,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,3,3,3,3,3,3,3,3,3,3,3,0,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,3,3,3,3,3,3,3,3,3,3,3,3,3,0,0,0,3,3,3,3,3,3,3,3,3,3,3,0,0,0,0,0,0,3,0,3,3,3,0,3,0,0,0,0,0,0,0,0,0,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,0,0,0,0,0,0,0,0,0,0,3,3,3,3,3,0,0,0,0,0",
      "2024011915595_bd_layer_4/15/15/1/0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,4,0,0,0,0,0,0,0,4,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,4,4,4,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,0,0,0,0,0",
      "2024011915595_bd_layer_5/15/15/1/0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,5,0,5,0,5,0,0,0,0,0,0,0,0,0,5,5,0,5,0,5,5,0,0,0,0,0,0,0,5,5,5,5,5,5,5,5,5,0,0,0,0,0,0,0,0,5,5,5,5,5,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0",
      "2024011915595_bd_layer_6/15/15/1/0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,6,0,0,0,6,0,0,0,0,0,0,0,0,0,6,6,0,6,0,6,6,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,6,6,0,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0"
    ]

    const colorList = [
      'rgb(88,47,14)',
      'rgb(127,79,36)',
      'rgb(147,102,57)',
      'rgb(166,138,100)',
      'rgb(182,173,144)',
      'rgb(194,197,170)',
      'rgb(164,172,134)',
      'rgb(101,109,74)',
      'rgb(65,72,51)',
      'rgb(51,61,29)',
      'rgb(0,8,20)', // 10
      'rgb(0,29,61)',
      'rgb(0,53,102)',
      'rgb(255,195,0)',
      'rgb(255,214,10)',
      'rgb(255,153,200)', // 15
      'rgb(252,246,189)',
      'rgb(208,244,222)',
      'rgb(169,222,249)',
      'rgb(228,193,249)',
      'rgb(0,21,36)', // 20
      'rgb(21,97,109)',
      'rgb(255,236,209)',
      'rgb(255,125,0)',
      'rgb(120,41,15)',
      'rgb(43,45,66)', // 25
      'rgb(141,153,174)',
      'rgb(237,242,244)',
      'rgb(239,35,60)',
      'rgb(217,4,41)',
      'rgb(255,89,94)', // 30
      'rgb(255,202,58)',
      'rgb(138,201,38)',
      'rgb(25,130,196)',
      'rgb(106,76,147)',
      'rgb(231,236,239)', // 35
      'rgb(39,76,119)',
      'rgb(96,150,186)',
      'rgb(163,206,241)',
      'rgb(139,140,137)',
      'rgb(249,65,68)', // 40
      'rgb(243,114,44)',
      'rgb(248,150,30)',
      'rgb(249,132,74)',
      'rgb(249,199,79)',
      'rgb(144,190,109)',
      'rgb(67,170,139)',
      'rgb(77,144,142)',
      'rgb(87,117,144)',
      'rgb(39,125,161)',
      'rgb(116,0,184)', // 50
      'rgb(105,48,195)',
      'rgb(94,96,206)',
      'rgb(83,144,217)',
      'rgb(78,168,222)',
      'rgb(86,207,225)',
      'rgb(100,223,223)',
      'rgb(114,239,221)',
      'rgb(128,255,219)',
      'rgb(34,34,59)', // 59
      'rgb(74,78,105)',
      'rgb(154,140,152)',
      'rgb(201,173,167)',
      'rgb(242,233,228)',
      'rgb(95,15,64)', // 64
      'rgb(154,3,30)',
      'rgb(251,139,36)',
      'rgb(227,100,20)',
      'rgb(15,76,92)'
    ]
    // let colorStart = 20
    // let colorStart = 27
    // let colorStart = 35
    let colorStart = 62
    // let colorStart = 59
    // let colorStart = 50
    // let colorStart = 40
    const palettes = [
      '12372A','436850','ADBC9F','FBFADA',
      '561C24','6D2932','C7B7A3','E8D8C4',
      'EEEDEB','E0CCBE','747264','3C3633',
      'B4B4B8','C7C8CC','E3E1D9','F2EFE5',
      '1F2544','474F7A','81689D','FFD0EC',
      '944E63','B47B84','CAA6A6','FFE7E7',
      'FDF0D1','AC7D88','85586F','643843',
      'FFF7F1','FFE4C9','E78895','BED1CF',
      '6C22A6','6962AD','83C0C1','96E9C6',
      'E8C872','FFF3CF','C9D7DD','637A9F',
      '0C2D57','FC6736','FFB0B0','EFECEC',
      '40A2E3','FFF6E9','BBE2EC','0D9276',
      'F28585','FFA447','FFFC9B','B7E5B4',
      '8CB9BD','FEFBF6','ECB159','B67352',
      'CDFADB','F6FDC3','FFCF96','FF8080',
      '8E7AB5','B784B7','E493B3','EEA5A6',
      '070F2B','1B1A55','535C91','9290C3',
      'D7E4C0','C6DCBA','BBC3A4','B3A398',
      '265073','2D9596','9AD0C2','F1FADA',
      '7F27FF','9F70FD','FDBF60','FF8911',
      '211C6A','59B4C3','74E291','EFF396',
      '9B4444','C68484','A3C9AA','EEEEEE',
      'B5C0D0','CCD3CA','F5E8DD','EED3D9',
      '211951','836FFF','15F5BA','F0F3FF',
      '000000','F72798','F57D1F','EBF400',
      'FFF67E','BFEA7C','9BCF53','416D19',
      '201658','1D24CA','98ABEE','F9E8C9',
      'FFBE98','FEECE2','F7DED0','E2BFB3',
      '9195F6','B7C9F2','F9F07A','FB88B4',
      '0C359E','EE99C2','FFE3CA','F6F5F5'
    ]
    const colorList1 = []
    let colorStart1 = 0

    const START_X = 30
    const START_Y = 30
    const GUIDE_COLOR = 'slateblue'

    let canvas
    let ctx
    let canvasW = 100
    let canvasH = 100
    let memo = ''
    let row = 9
    let column = 12
    let rawNum = 7
    let size = 6
    let startColor = 200
    let colorInterval = 40
    let raw = []
    let isGuide = false

    function init() {
      canvas = document.getElementById('id-canvas')
      ctx = canvas.getContext('2d')
      console.log('window inner w : ' + window.innerWidth + ', h : ' + window.innerHeight)
      console.log('window outer w : ' + window.outerWidth + ', h : ' + window.outerHeight)
      console.log('canvas w : ' + canvas.width + ', h : ' + canvas.height)

      canvasW = window.innerWidth - 8 * 2
      canvasH = window.innerHeight - 8 * 2 - 150
      canvasH *= 5
      canvas.width = canvasW
      canvas.height = canvasH

      const sizeLabel = document.getElementById('id-size-label')
      sizeLabel.innerText = `${canvasW} x ${canvasH}`

      const info = parsingStringToInfo(sample[24])
      memo = info.memo
      row = info.row
      column = info.column
      rawNum = info.raw_num
      raw = info.raw

      // console.log(`rawNum : ${rawNum}`)

      for (const c of palettes) {
        const rStr = c.substring(0,2)
        const gStr = c.substring(2,4)
        const bStr = c.substring(4,6)
        console.log(`${c}, r : ${rStr}, g : ${gStr}, b : ${bStr}`)
        const r = parseInt(rStr, 16)
        const g = parseInt(gStr, 16)
        const b = parseInt(bStr, 16)
        console.log(`r : ${r}, g : ${g}, b : ${b}`)
        colorList1.push(`rgb(${r},${g},${b})`)
        console.log(colorList1[colorList1.length-1])
      }


      // const layerList = divideLayer(raw, rawNum, row, column)
      // console.log(layerList)
      const layerList = []
      for (const str of sample01) {
        const inf = parsingStringToInfo(str)
        layerList.push(inf.raw)
      }

      initColorInterval()

      // isGuide = true
      draw()

      for (let i=0; i<layerList.length; i++) {
        console.log(i)
        const layer = layerList[i]
        const x = (size * row + 2) * (i + 1) + START_X
        drawRaw(layer, row, size, x, START_Y, startColor, colorInterval)

        const length = colorList1.length / 4
        const size1 = 5
        const x1 = (size1 * row + 2) * (i + 1) + START_X
        const startY1 = (size * column + 2) * 1 + START_Y

        for (let j=0; j<length; j++) {
          const y1 = (size1 * column + 2) * j + startY1
          drawRaw1(layer, row, size1, x1, y1, startColor, colorInterval)
          colorStart1 += 4
          if (colorStart1 >= colorList1.length) colorStart1 = 0
          console.log(`colorStart1 : ${colorStart1}`)
        }

        // draw guide
        if (!isGuide)continue
        drawGuide(layer, row, size, x, START_Y)
      }

      console.log(`colorList1.length : ${colorList1.length}`)
    }

    function divideLayer(raw, rawNum, row, column) {
      const length = row * column
      const result = []
      for (let i=0; i<rawNum; i++) {
        const list = []
        for (let j=0; j<length; j++) {
          list.push(0)
        }
        result.push(list)
      }

      for (let i=0; i<raw.length; i++) {
        const r = raw[i]
        for (let j=0; j<=r; j++) {
          result[j][i] = j
        }
      }

      return result
    }

    function initColorInterval() {
      colorInterval = startColor / rawNum
    }

    function draw() {
      ctx.clearRect(0, 0, canvasW, canvasH)
      drawRaw(raw, row, size, START_X, START_Y, startColor, colorInterval)

      // draw guide
      if (!isGuide)return
      drawGuide(raw, row, size, START_X, START_Y)
    }

    function drawRaw(raw, row, size, startX, startY, startColor, colorInterval) {
      for (let i=0; i<raw.length; i++) {
        const r = raw[i] - 1
        // const colorVal = startColor - r * colorInterval
        // const color = `rgb(${colorVal},${colorVal},${colorVal})`

        if (r < 0) continue

        const color = colorList[colorStart + r]

        const x = i % row
        const y = Math.floor(i / row)
        const sx = size * x + startX
        const sy = size * y + startY
        ctx.fillStyle = color
        ctx.beginPath()
        ctx.rect(sx, sy, size, size)
        ctx.fill()
      }
    }

    function drawRaw1(raw, row, size, startX, startY, startColor, colorInterval) {
      for (let i=0; i<raw.length; i++) {
        const r = raw[i] - 1
        // const colorVal = startColor - r * colorInterval
        // const color = `rgb(${colorVal},${colorVal},${colorVal})`

        if (r < 0) continue
        const color = colorList1[colorStart1 + r]

        const x = i % row
        const y = Math.floor(i / row)
        const sx = size * x + startX
        const sy = size * y + startY
        ctx.fillStyle = color
        ctx.beginPath()
        ctx.rect(sx, sy, size, size)
        ctx.fill()
      }
    }

    function drawGuide(raw, row, size, startX, startY) {
      for (let i=0; i<raw.length; i++) {
        const x = i % row
        const y = Math.floor(i / row)
        const sx = size * x + startX
        const sy = size * y + startY
        ctx.strokeStyle = GUIDE_COLOR
        ctx.lineWidth = 0.3
        ctx.beginPath()
        ctx.rect(sx, sy, size, size)
        ctx.stroke()
      }
    }

    function parsingStringToInfo(str) {
      const list = str.split('/')
      console.log(list)
      const memo = list[0]
      const row = Number(list[1])
      const column = Number(list[2])
      const rawNum = Number(list[3])
      const rawStrList = list[4].split(',')
      console.log(`memo : ${memo}, row : ${row}, column : ${column}, raw_num : ${rawNum}`)
      const raw = []

      for (const key in rawStrList) {
        const r = Number(rawStrList[key])
        raw.push(r)
      }

      const info = {
        memo: memo,
        row: row,
        column: column,
        raw_num: rawNum,
        raw: raw
      }

      return info
    }

    function parsingInfoToString(info) {
      let result = ""
      result += `${info.memo}/${info.row}/${info.column}/${info.raw_num}/`

      for (let i=0; i<info.raw.length; i++) {
        if (i === info.raw.length-1) {
          result += `${info.raw[i]}`
        } else {
          result += `${info.raw[i]},`
        }
      }

      return result
    }

    function save(rawString) {
      console.log(`save ::: ${rawString}`)
      const name = rawString.split('/')[0]
      const link = document.createElement("a")
      const file = new Blob([rawString], {type:'text/plain'})
      link.href = URL.createObjectURL(file)
      link.download = `${name}.txt`
      link.click()
      URL.revokeObjectURL(link.href)
    }
  </script>
</body>
</html>